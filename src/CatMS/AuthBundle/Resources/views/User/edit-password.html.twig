{% extends 'CatMSAdminBundle::base.html.twig' %}

{% block breadcrumb %}
    {{ parent() }}
    <li><a href="{{ path('user')}}">Users list</a></li> <span class="divider">/</span></li>
    <li class="active">Edit {{ entity.username }} password</li>
{% endblock %}
    
{% block content -%}
    <legend>Edit <i>{{ entity.username }}'s</i> password</legend>
    <form action="{{ path('edit_password', { 'id': entity.id }) }}" method="post" {{ form_enctype(form) }} class="form-float">
        <fieldset>
        {% if form_errors(form) %}
        <script src="{{ asset('js/cleanErrorField.js') }}"></script>
        <div class="alert error-field">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
           {{ form_errors(form) }}
        </div>
        {% endif %}
        
        <input type="hidden" name="_method" value="PUT" />
        {{ form_row(form.password) }}
        {{ form_row(form.password_retype) }}
        {{ form_rest(form) }}
        
        <p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#editPw" type="submit"><i class="icon-hdd"></i> Save</button>
        </p>
        {% include 'CatMSAdminBundle:Helpers:modal.html.twig' with {'id': 'editPw', 'msg': 'Edit user password'} %}
        </fieldset>
    </form>
    
    <div class="btn-group clear">
        <a class="btn clear" href="{{ path('user') }}"><i class="icon-list"></i> Back to the list </a>
        <a class="btn" href="{{ path('user_show', {'id': entity.id }) }}"><i class="icon-user"></i> Back to the user details</a>
    </div>
    
</ul>
{% endblock %}
